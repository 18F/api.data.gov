{
  "swaggerVersion": "1.2",
  "apiVersion": "2.0.0",
  "basePath": "http://api.data.gov/regulations/v2",
  "apis": [
    {
      "path": "/docket.{format}",
      "operations": [
        {
          "method": "GET",
          "nickname": "docket",
          "summary": "Docket Information",
          "notes": "This API allows users to request metadata associated with a specific Docket.",
          "type": "Docket",
          "parameters": [
            {
              "name": "format",
              "description": "Format",
              "paramType": "path",
              "required": true,
              "type": "string",
              "enum": ["json", "xml"],
              "defaultValue": "json"
            },
            {
              "name": "api_key",
              "description": "API Key",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "DEMO_KEY"
            },
            {
              "name": "D",
              "description": "Docket ID",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "EPA-HQ-OAR-2011-0028"
            }
          ]
        }
      ]
    },
    {
      "path": "/document.{format}",
      "operations": [
        {
          "method": "GET",
          "nickname": "document",
          "summary": "Document Information",
          "notes": "This API allows users to request metadata associated with the specific Document.",
          "type": "Document",
          "parameters": [
            {
              "name": "format",
              "description": "Format",
              "paramType": "path",
              "required": true,
              "type": "string",
              "enum": ["json", "xml"],
              "defaultValue": "json"
            },
            {
              "name": "api_key",
              "description": "API Key",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "DEMO_KEY"
            },
            {
              "name": "D",
              "description": "FDMS Document ID",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "EPA-HQ-OAR-2011-0028-0108"
            },
            {
              "name": "FR",
              "description": "Federal Register Document Number",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "2013-23804"
            }
          ]
        }
      ]
    },
    {
      "path": "/documents.{format}",
      "operations": [
        {
          "method": "GET",
          "nickname": "documents",
          "summary": "Document Search",
          "notes": "This API allows users to build a query based on any of the parameters below.  If you have trouble building queries, you may wish to try them through the <a href="http://www.regulations.gov/#!advancedSearch">Advanced Search</a> page on the Regulations.gov website.",
          "type": "SearchResult",
          "parameters": [
            {
              "name": "format",
              "description": "Format",
              "paramType": "path",
              "required": true,
              "type": "string",
              "enum": ["json", "xml"],
              "defaultValue": "json"
            },
            {
              "name": "api_key",
              "description": "API Key",
              "paramType": "query",
              "required": true,
              "type": "string",
              "defaultValue": "DEMO_KEY"
            },
            {
              "name": "s",
              "description": "Keyword(s)",
              "paramType": "query",
              "required": false,
              "type": "string",
              "defaultValue": "greenhouse gases"
            },
            {
              "name": "dct",
              "description": "Document Type<ul><li>N: Notice</li><li>PR: Proposed Rule</li><li>FR: Rule</li><li>O: Other</li><li>SR: Supporting & Related Material</li><li>PS: Public Submission</li></ul>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["N", "PR", "FR", "O", "SR", "PS"]
            },
            {
              "name": "dkt",
              "description": "Docket Type<ul><li>R: Rulemaking</li><li>N: Nonrulemaking</li></ul>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["N", "R"]
            },
            {
              "name": "cp",
              "description": "Comment Period<ul><li>O: Open</li><li>C: Closed</li></ul>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["N", "R"]
            },
            {
              "name": "a",
              "description": "Federal Agency: Accepted values listed in Appendix A. This field allows multiple values. Ex. <pre>a=FMCSA%252BEPA%252BFDA</pre>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["N", "R"]
            },
            {
              "name": "rpp",
              "description": "Results Per Page <strong>10, 25, 100</strong>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["10", "25", "100"]
            },
            {
              "name": "sb",
              "description": "Sort Order<ul><li>docketId (Docket ID)</li><li>docId (Document ID)</li><li>title (Title)</li><li>postedDate (Posted Date)</li><li>agency (Agency)</li><li>documentType (Document Type)</li><li>submitterName (Submitter Name)</li><li>organization (Organization)</li></ul>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["docketId", "docId", "title","postedDate","agency","documentType","submitterName","organization"]
            },
            {
              "name": "so",
              "description": "Results Per Page<ul><li>ASC: Ascending</li><li>DESC: Descending</li></ul>",
              "paramType": "query",
              "required": false,
              "type": "string",
              "enum": ["ASC", "DESC"]
            },
            {
              "name": "dkst",
              "description": "Docket Subtype: Accepted values listed in Appendix B. Only one value at a time may be selected. One or more agency values must be part of the request. Only values valid for the selected agency will be returned.",
              "paramType": "query",
              "required": false,
              "type": "string"
            },
            {
              "name": "dktst2",
              "description": "Docket Sub-subtype: Accepted values listed in Appendix C",
              "paramType": "query",
              "required": false,
              "type": "string"
            },
            {
              "name": "dktst",
              "description": "Document Subtype: Accepted values listed in Appendix D",
              "paramType": "query",
              "required": false,
              "type": "string"
            },
            {
              "name":"encoded",
              "description": "<p>1 (will accept Regulations.gov style encoded parameters)<br/> 0 (will not accept such encoded parameters)</p><p>Individual parameters and values from Regulations.gov search URLs can be used, but since they are encoded, this flag tells the API service to decode them first. For example, below is the Regulations.gov URL for searching all open FR documents:</p><pre>http://www.regulations.gov/#!searchResults;rpp=10;po=0;dct=N%252BPR%252BFR%252BO;cp=O</pre><p>In order to use this with the API, user will need to specify ‘encoded=1’ in the URL along with providing one or more encoded parameters.</p><pre>http://api.data.gov/regulations/v2/documents.json?encoded=1&rpp=10&po=0&dct=N%252BPR%252BFR%252BO&cp=O",
              "paramType": "query",
            "required": false,
            "type": "string"
            }
          ]
        }
      ]
    }
  ],
  "models": {
    "SearchResult":{
      "id":"SearchResult",
      "properties":{
        "totalNumRecords": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of records matching the given criteria"
        },
        "docketModel": {
            "type": "Docket"
        },
        "documents": {
          "type": "array",
          "items":{
            "$ref": "Document"
          }
        }
      }
    },
    "Docket": {
      "id": "Docket",
      "properties": {
        "docketId": {
          "type":"string",
          "description": "a unique identifier established for a docket"
        },
        "rin": {
          "type":"string",
          "description": "TODO: Insert RIN description here"
        }
      }
    },
    "Document": {
        "id": "Document",
        "properties": {
            "documentId": {
                "type": "string",
                "description": ""
            },
            "agencyId": {
                "type": "string",
                "description": "Federal Agency that published the Document"
            },
            "commentEndDate": {
                "type": "Date",
                "description": ""
            },
            "commentStartDate": {
                "type": "Date",
                "description": ""
            },
            "effectiveDate": {
                "type": "Date",
                "description": ""
            },
            "receivedDate": {
                "type": "Date",
                "description": ""
            },
            "documentType": {
                "type": "string",
                "description": ""
            },
            "frDoc": {
                "type": "boolean",
                "description": ""
            },
            "title": {
                "type": "string",
                "description": ""
            },
            "canCommentOnDocument": {
                "type": "boolean",
                "description": ""
            },
            "commentText": {
                "type": "string",
                "description": ""
            },
            "docComments": {
                "type": "string",
                "description": ""
            },
            "docketId": {
                "type": "string",
                "description": ""
            },
            "docketType": {
                "type": "string",
                "description": ""
            },
            "rin": {
                "type": "string",
                "description": ""
            },
            "numCommentsReceived": {
                "type": "integer",
                "format": "int64",
                "description": ""
            },
            "frNumber": {
                "type": "string",
                "description": ""
            },
            "pageCount": {
                "type": "integer",
                "format": "int64",
                "description": ""
            },
            "documentSubtype": {
                "type": "string",
                "description": ""
            },
            "cfr": {
                "type": "string",
                "description": ""
            },
            "startEndPage": {
                "type": "string",
                "description": ""
            },
            "agencyAcronym": {
                "type": "string",
                "description": ""
            },
            "agencyName": {
                "type": "string",
                "description": "Full name of the FederalAgency"
            },
            "attachmentCount": {
                "type": "integer",
                "format": "int64",
                "description": ""
            }
        }
    }

  }
}
